<?php
/**
 * Iban
 *
 * @author      Jan Schaedlich <schaedlich.jan@gmail.com>
 * @copyright   2013 Jan Schaedlich
 * @link        https://github.com/jschaedl/Iban
 *
 * MIT LICENSE
 */
namespace IBAN\Rule\DE;

class Rule005300 extends \IBAN\Rule\DE\Rule000000
{
    public function __construct($localeCode, $instituteIdentification, $bankAccountNumber)
    {
        $replacements = array(
            "55050000#35000" => "60050101#7401555913"
            , "55050000#119345106" => "60050101#7401555906"
            , "55050000#908" => "60050101#7401507480"
            , "55050000#901" => "60050101#7401507497"
            , "55050000#910" => "60050101#7401507466"
            , "55050000#35100" => "60050101#7401555913"
            , "55050000#902" => "60050101#7401507473"
            , "55050000#44000" => "60050101#7401555872"
            , "55050000#110132511" => "60050101#7401550530"
            , "55050000#110024270" => "60050101#7401501266"
            , "55050000#3500" => "60050101#7401555913"
            , "55050000#110050002" => "60050101#7401502234"
            , "55050000#55020100" => "60050101#7401555872"
            , "55050000#110149226" => "60050101#7401512248"
            , "60020030#1047444300" => "60050101#7871538395"
            , "60020030#1040748400" => "60050101#0001366705"
            , "60020030#1000617900" => "60050101#0002009906"
            , "60020030#1003340500" => "60050101#0002001155"
            , "60020030#1002999900" => "60050101#0002588991"
            , "60020030#1004184600" => "60050101#7871513509"
            , "60020030#1000919900" => "60050101#7871531505"
            , "60020030#1054290000" => "60050101#7871521216"
            , "60050000#1523" => "60050101#0001364934"
            , "60050000#2811" => "60050101#0001367450"
            , "60050000#2502" => "60050101#0001366705"
            , "60050000#250412" => "60050101#7402051588"
            , "60050000#3009" => "60050101#0001367924"
            , "60050000#4596" => "60050101#0001372809"
            , "60050000#3080" => "60050101#0002009906"
            , "60050000#1029204" => "60050101#0002782254"
            , "60050000#3002" => "60050101#0001367924"
            , "60050000#123456" => "60050101#0001362826"
            , "60050000#2535" => "60050101#0001119897"
            , "60050000#5500" => "60050101#0001375703"
            , "66020020#4002401000" => "60050101#7495500967"
            , "66020020#4000604100" => "60050101#0002810030"
            , "66020020#4002015800" => "60050101#7495530102"
            , "66020020#4003746700" => "60050101#7495501485"
            , "66050000#86567" => "60050101#0001364934"
            , "66050000#86345" => "60050101#7402046641"
            , "66050000#85304" => "60050101#7402045439"
            , "66050000#85990" => "60050101#7402051588"
            , "86050000#1016" => "60050101#7461500128"
            , "86050000#3535" => "60050101#7461505611"
            , "86050000#2020" => "60050101#7461500018"
            , "86050000#4394" => "60050101#7461505714"
        );

        if (isset($replacements[$instituteIdentification . "#" . $bankAccountNumber])) {
            $replacement = $replacements[$instituteIdentification . "#" . $bankAccountNumber];
            $explodedData = explode('#', $replacement);
            $instituteIdentification = $explodedData[0];
            $bankAccountNumber = $explodedData[1];
        }

        parent::__construct($localeCode, $instituteIdentification, $bankAccountNumber);
    }
}
